<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
    <script src="{{ url_for('static', filename='js/global.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Dashboard</title>
</head>
<body>
    <div class="sidebar">
        <h2 class="sidebar-title">Menu</h2>
        <a href="{{ url_for('dashboard') }}" class="nav-link active">Dashboard</a>
        <a href="{{ url_for('input') }}" class="nav-link">Input Data</a>
        <a href="{{ url_for('previous_inputs') }}" class="nav-link">Previous Submissions</a>
        <a href="{{ url_for('goals') }}" class="nav-link">Goals</a>
        <div id="points-display">
            Points: <span id="points">0</span>
        </div>
        <a href="{{ url_for('profile') }}" class="nav-link profile-link">Profile</a>
    </div>

    <div class="main-content">
        <h1 class="dashboard-heading">Dashboard</h1>

        <div class="big-card-container">
            <div class="big-card">
                <h3>Overview</h3>
                <div class="overview-controls">
                    <div class="overview-row">
                        <label for="overviewRange">Time Frame:</label>
                        <select onchange="updateOverviewChart()" id="overviewRange">
                            <option value="7" selected>Last 7 Days</option>
                            <option value="30">Last 30 Days</option>
                            <option value="90">Last 90 Days</option>
                            <option value="all">All Time</option>
                        </select>
                    </div>
                    <div class="overview-row">
                        <label class="metric-label" for="overviewMetric1">Metric 1:</label>
                        <select onchange="updateOverviewChart()" id="overviewMetric1">
                            <option value="sleep" selected>Sleep</option>
                            <option value="mood">Mood</option>
                            <option value="screenTime">Screen Time</option>
                            <option value="water">Water Intake</option>
                            <option value="steps">Daily Steps</option>
                            <option value="work">Meaningful Work</option>
                        </select>
                        <span class="vs-text">vs</span>
                        <label class="metric-label" for="overviewMetric2">Metric 2:</label>
                        <select onchange="updateOverviewChart()" id="overviewMetric2">
                            <option value="sleep">Sleep</option>
                            <option value="mood" selected>Mood</option>
                            <option value="screenTime">Screen Time</option>
                            <option value="water">Water Intake</option>
                            <option value="steps">Daily Steps</option>
                            <option value="work">Meaningful Work</option>
                        </select>
                    </div>
                </div>

                <canvas id="overviewChart"></canvas>
            </div>
        </div>
        <div class="metrics-grid">
            <div class="metric-card">
                <h3>Sleep</h3>
                <select id="sleepRange" onchange="updateChart('sleep')">
                    <option value="7" selected>Last 7 Days</option>
                    <option value="30">Last 30 Days</option>
                    <option value="90">Last 90 Days</option>
                    <option value="all">All Time</option>
                </select>
                <canvas id="sleepChart"></canvas>
                <p> Last recorded: <span id="sleepLast"></span></p>
            </div>
            <div class="metric-card">
                <h3>Mood</h3>
                <select id="moodRange" onchange="updateChart('mood')">
                    <option value="7" selected>Last 7 Days</option>
                    <option value="30">Last 30 Days</option>
                    <option value="90">Last 90 Days</option>
                    <option value="all">All Time</option>
                </select>
                <canvas id="moodChart"></canvas>
                <p> Last recorded: <span id="moodLast"></span></p>
            </div>
            <div class="metric-card">
                <h3>Screen Time</h3>
                <select id="screenTimeRange" onchange="updateChart('screenTime')">
                    <option value="7" selected>Last 7 Days</option>
                    <option value="30">Last 30 Days</option>
                    <option value="90">Last 90 Days</option>
                    <option value="all">All Time</option>
                </select>
                <canvas id="screenTimeChart"></canvas>
                <p> Last recorded: <span id="screenTimeLast"></span></p>
            </div>
            <div class="metric-card">
                <h3>Water Intake</h3>
                <select id="waterRange" onchange="updateChart('water')">
                    <option value="7" selected>Last 7 Days</option>
                    <option value="30">Last 30 Days</option>
                    <option value="90">Last 90 Days</option>
                    <option value="all">All Time</option>
                </select>
                <canvas id="waterChart"></canvas>
                <p> Last recorded: <span id="waterLast"></span></p>
            </div>
            <div class="metric-card">
                <h3>Daily Steps</h3>
                <select id="stepsRange" onchange="updateChart('steps')" >
                    <option value="7" selected>Last 7 Days</option>
                    <option value="30">Last 30 Days</option>
                    <option value="90">Last 90 Days</option>
                    <option value="all" >All Time</option>
                </select>
                <canvas id="stepsChart"></canvas>
                <p> Last recorded: <span id="stepsLast"></span></p>
            </div>
            <div class="metric-card">
                <h3>Hours of Meaningful Work</h3>
                <select id="workRange" onchange="updateChart('work')">
                    <option value="7" selected>Last 7 Days</option>
                    <option value="30">Last 30 Days</option>
                    <option value="90">Last 90 Days</option>
                    <option value="all" >All Time</option>
                </select>
                <canvas id="workChart"></canvas>
                <p> Last recorded: <span id="workLast"></span></p>
            </div>
        </div>
    </div>
</body>
</html>